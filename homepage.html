<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Official website of ThePropHat - My personal projects, hobbies, and blog posts.">
<meta property="og:title" content="www.theprophat.com">
<meta property="og:image" content="/images/logos/site-logo.png">
<title>THEPROPHAT.COM</title>
<link rel="stylesheet" href="styles.css">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>



</head>
<body>
<div class="background">

  <header class="head">
  <a href="https://theprophat.com/homepage.html" style="text-decoration:none;">
    <h2 class ="random-heading" id="random-heading">they call me www.theprophat.com</h2></a>
    </header>
    

<script>
  // array of possible h2 texts
  const headings = [
    "they call me theprophat.com",
    "i dwell at theprophat.com",
    "you've reached theprophat.com",
    "you came to theprophat.com to subscribe to my youtube channel *mind controls you*",
    "theprophat.com proudly supports the fantastic four",
    "welcome to theprophat.com",
    "www.theprophat.com",
    "currently lost within an Ancient Crypt",
    "its 'the-prop-hat'",
    "how did you get here?",
    "do you know the way out of here?",
    "theprophat.com is proudly hosted in Twin Peaks",
    "click here to visit theprophat.com!",
    "your very own resident fantastic four fan",
    "THEPROPHAT IS ONLINE",
    "THEPROPHAT loves Estonia!",
    "have you updated your micro blog lately?",
    "have you updated your life log lately?",
    "theprophat.com is currently gluten free",
    "reading through Pysgodyn's comic book collection",
    "theprophat is sending postcards"
  ];

  // pick random heading
  const headerIndex = Math.floor(Math.random() * headings.length);

  // replace h2 text
  document.getElementById("random-heading").innerText = headings[headerIndex];
</script>

 <main class="content-area">
      <div class="card">
        <div><a href="lifelog.html">LIFELOG</a></div>
         
        <div><a href="lost.html">PHOTOS</a></div>
        <div><a href="lost.html">ART</a></div>
        <div><a href="lost.html">COLLECTIONS</a></div>
        <div><a href="neighbourhood.html">NEIGHBOURHOOD</a></div>
        <div><a href="http://tv.theprophat.com:8158/" target="_blank">TWIG VALLEY</a></div>
        <div><a href="https://tylerhensondesigns.com/" target="_blank">PORTFOLIO</a></div>
        <a href="/microworld/halloween-2025/the-door.html"><img  src="microworld/halloween-2025/trickortreatbutton.gif"></a>
      </div>
    </main>

<a href="court.html"><img id=king alt="the-king's-court" class="courtcard" src="/images/made-by-me/king.png" width="3%"></a>




<footer class="foot">
<!--                                                                                                                                              VIEW COUNTER -->
<p>for astrochimp Ham & spacedog Laika</p>

</footer>


<div id="birthday-game" style="display: none;">
  <h1 class="birthday-timer">‚è±Ô∏è <span id="game-time">30</span>s</h1>
  <div class="birthday-score">üéà Popped: <span id="game-score">0</span></div>
  <div class="birthday-message" id="birthday-message">
     HAPPY BIRTHDAY, THEPROPHAT!<br>
    You popped <span id="final-score">0</span> balloons!
  </div>
</div>
  

</div>


<script>
// Fetch and animate microblog entries like they're being typed
fetch("/json/microblog-2025.json")
  .then(res => res.json())
  .then(entries => {
    if (!entries || entries.length === 0) return;

    let index = 0;
    const entryBox = document.getElementById("microblog-entry");
    const linkEl = document.getElementById("microblog-link");

    // Base URL for lifelog, adjust if different
    const lifelogBaseURL = "https://theprophat.com/pages/lifelog.html";

    function typeEntry(text, callback) {
      let i = 0;
      entryBox.textContent = "";

      const interval = setInterval(() => {
        // Show typing cursor flicker at even steps
        entryBox.textContent = text.slice(0, i) + (i % 2 === 0 ? '‚ñà' : '');
        i++;
        if (i > text.length) {
          clearInterval(interval);
          entryBox.textContent = text; // final text without cursor
          if (callback) callback();
        }
      }, 40);
    }

    function cycleEntries() {
      const current = entries[index];
      const displayText = `${current.date} | ${current.entry} (at ${current.time})`;

      // Show the typed text
      typeEntry(displayText, () => {

        // Wait 10 seconds before next entry
        setTimeout(() => {
          index = (index + 1) % entries.length;
          linkEl.style.display = "none";
          cycleEntries();
        }, 10000);
      });
    }

    cycleEntries();
  })
  .catch(err => {
    console.error("Failed to load microblog entries:", err);
  });


  
</script>

<audio id="birthday-music" loop>
  <source src="audio/birthday_music.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>


<script>
  // üéà Firebase Config for Birthday Game
  const birthdayFirebaseConfig = {
    apiKey: "AIzaSyDjKxw294bqm4i9I5tjO7TrQV_jjW4En4g",
    authDomain: "theprophathalloween2025.firebaseapp.com",
    projectId: "theprophathalloween2025",
    storageBucket: "theprophathalloween2025.appspot.com",
    messagingSenderId: "489777678361",
    appId: "1:489777678361:web:f9d424107d8120ca514288"
  };

  firebase.initializeApp(birthdayFirebaseConfig);
  const birthdayDatabase = firebase.database();

  function submitBirthdayScore(name, score) {
    const ref = birthdayDatabase.ref('birthdayScores');
    ref.push({
      name: name,
      score: score,
      timestamp: Date.now()
    });
  }

  function listenBirthdayLeaderboard() {
    const ref = birthdayDatabase.ref('birthdayScores').orderByChild('score').limitToLast(10);
    ref.on('value', (snapshot) => {
      const scores = [];
      snapshot.forEach(childSnapshot => {
        scores.push(childSnapshot.val());
      });
      scores.sort((a, b) => b.score - a.score);

      const list = document.getElementById('birthday-leaderboard-list');
      if (list) {
        list.innerHTML = '';
        scores.forEach(({ name, score }) => {
          const li = document.createElement('li');
          li.textContent = `${name}: ${score} balloons`;
          list.appendChild(li);
        });
      }
    });
  }

  // Leaderboard UI
  const leaderboardBox = document.createElement('div');
  leaderboardBox.id = 'birthday-leaderboard';
  leaderboardBox.innerHTML = `
    <h2>THEPROPHAT'S BIRTHDAY GUESTS</h2>
    <ol id="birthday-leaderboard-list"></ol>
  `;
  document.querySelector('.background').appendChild(leaderboardBox);


  listenBirthdayLeaderboard();
</script>

<script>
// üéà Birthday Balloon Game üéâ

(function() {
  const gameDuration = 30; // seconds
  const spawnRate = 500; // ms
  const colors = ["#FF4C4C", "#FFD700", "#8A2BE2", "#00CED1", "#32CD32", "#FF69B4"];

  let gameTime = gameDuration;
  let gameScore = 0;
  let balloonInterval, countdownTimer;

  const gameContainer = document.getElementById("birthday-game");
  const timeDisplay = document.getElementById("game-time");
  const scoreDisplay = document.getElementById("game-score");
  const message = document.getElementById("birthday-message");
  const finalScore = document.getElementById("final-score");
  const music = document.getElementById("birthday-music");

  // ‚úÖ Move this here so it's available globally inside the game
  const popSounds = [
    new Audio("audio/pop1.mp3"),
    new Audio("audio/pop2.mp3"),
    new Audio("audio/pop3.mp3"),
    new Audio("audio/pop4.mp3"),
    new Audio("audio/pop5.mp3"),
    new Audio("audio/pop6.mp3"),
    new Audio("audio/pop7.mp3"),
    new Audio("audio/pop8.mp3"),
    new Audio("audio/pop9.mp3"),
    new Audio("audio/pop10.mp3"),
    
  ];

  function createBalloon() {
    const balloon = document.createElement("div");
    balloon.classList.add("birthday-balloon");
    balloon.style.left = `${Math.random() * 90 + 5}%`;
    balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
    balloon.style.animationDuration = `${3 + Math.random() * 2}s`;

    balloon.addEventListener("click", () => {
      gameScore++;
      scoreDisplay.textContent = gameScore;

      // ‚úÖ Play random pop sound
      const pop = popSounds[Math.floor(Math.random() * popSounds.length)];
      pop.currentTime = 0;
      pop.playbackRate = 0.85 + Math.random() * 0.4;
      pop.play();

      balloon.remove();
    });

    gameContainer.appendChild(balloon);

    // Cleanup after 6 seconds
    setTimeout(() => {
      if (balloon.parentElement) balloon.remove();
    }, 6000);
  }

  function startGame() {
    gameContainer.style.display = "block";
    gameTime = gameDuration;
    gameScore = 0;
    scoreDisplay.textContent = 0;
    timeDisplay.textContent = gameTime;
    message.style.display = "none";

    // Start music
    music.currentTime = 0;
    music.play();

    balloonInterval = setInterval(createBalloon, spawnRate);
    countdownTimer = setInterval(() => {
      gameTime--;
      timeDisplay.textContent = gameTime;
      if (gameTime <= 0) endGame();
    }, 1000);
  }

  function endGame() {
    clearInterval(balloonInterval);
    clearInterval(countdownTimer);
    document.querySelectorAll(".birthday-balloon").forEach(b => b.remove());

    // Stop music
    music.pause();

    finalScore.textContent = gameScore;
    message.style.display = "block";

    const haul = gameScore;
    const storedName = localStorage.getItem('birthdayName');
    let name = prompt("sign your name?", storedName || "Guest");

    if (name) {
      localStorage.setItem('birthdayName', name);
      submitBirthdayScore(name, haul);
    }
  }

  // üéà START THE GAME AUTOMATICALLY
  window.addEventListener("load", () => {
    setTimeout(startGame, 1500);
  });

})();
</script>



<div id="microblog-terminal">
  <div class="terminal-header">MICROBLOG</div>
  <div id="microblog-entry" class="typed-line"></div>
  <a id="microblog-link" href="#" target="_blank" rel="noopener noreferrer" style="color:#00ff99; font-size: 0.85em; text-decoration: underline; display:none; margin-top:8px; cursor:pointer;">View Lifelog Post</a>
</div>

</body>
</html>
